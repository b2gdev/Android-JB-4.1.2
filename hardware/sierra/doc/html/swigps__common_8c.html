<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sierra RIL: hardware/sierra/swigps/swigps_common.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>hardware/sierra/swigps/swigps_common.c File Reference</h1><code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;cutils/sockets.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="swigps__common_8h_source.html">swigps_common.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a45b1b69d75d905de3ec50d3f0b620005">piget16</a> (unsigned char **packetpp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a24fbd25420f7b84ea90cb48a264c5888">piget32</a> (unsigned char **packetpp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#aa238b8da13f28cd4d502895bf691ce78">piget64</a> (unsigned char **packetpp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a5e8bc4d2a69fab2da42cad56e7bb4d56">pigetmulti</a> (unsigned char **packetpp, unsigned char *bufferp, unsigned short numfields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a0fd0f7b32353b1f438d96676c0ed776e">piput16</a> (unsigned short field, unsigned char **packetpp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#ad77c51c9cf8b9cc5889f89793dffcfa8">piput32</a> (unsigned int field, unsigned char **packetpp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a4bf652f4361c79c49229291ebf68c2a5">piput64</a> (unsigned long long field, unsigned char **packetpp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a7f54da5f078f8da5a74d9410f8dfdb54">piputmulti</a> (unsigned char *fieldsp, unsigned char **packetpp, unsigned short numfields)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#aba3a65051fc12dc8b4d61736435f01bf">swigps_makhdr</a> (<a class="el" href="swigps__common_8h.html#a057e84e87d42134d8756aa6987c97e66">swigpsMsgType</a> type, int length, unsigned short result, unsigned char *bufp, int buflength, int *writtenp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a2938cd0e67baf113c319857d472dd65c">receivepacket</a> (int fd, unsigned char *datap, int *numbytes, char *errmsgbuf, int errmsgsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a9b0d7e812d2298c41c8dd691603b47b2">socksend</a> (int fd, void *bufp, size_t length, char *errmsgbuf)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgpsMsgProps.html">gpsMsgProps</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__common_8c.html#a40e890e9370b8a0b5558d00686638382">msgProperties</a> [SWIGPS_MSGTYPE_MAXVAL]</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a45b1b69d75d905de3ec50d3f0b620005"></a><!-- doxytag: member="swigps_common.c::piget16" ref="a45b1b69d75d905de3ec50d3f0b620005" args="(unsigned char **packetpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short piget16 </td>
          <td>(</td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a 16-bit value, in network byte order, from a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to the packet where the 16-bit value will be read </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the 16-bit value</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="a24fbd25420f7b84ea90cb48a264c5888"></a><!-- doxytag: member="swigps_common.c::piget32" ref="a24fbd25420f7b84ea90cb48a264c5888" args="(unsigned char **packetpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int piget32 </td>
          <td>(</td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a 32-bit value, in network byte order, from a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to the packet where the 32-bit value will be read </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the 32-bit value</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="aa238b8da13f28cd4d502895bf691ce78"></a><!-- doxytag: member="swigps_common.c::piget64" ref="aa238b8da13f28cd4d502895bf691ce78" args="(unsigned char **packetpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long piget64 </td>
          <td>(</td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a 64-bit value, in network byte order, from a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to the packet where the 64-bit value will be read </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the 64-bit value</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="a5e8bc4d2a69fab2da42cad56e7bb4d56"></a><!-- doxytag: member="swigps_common.c::pigetmulti" ref="a5e8bc4d2a69fab2da42cad56e7bb4d56" args="(unsigned char **packetpp, unsigned char *bufferp, unsigned short numfields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pigetmulti </td>
          <td>(</td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>bufferp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>numfields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an array of 8-bit fields from a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to pointer to the packet where the array will be read from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>bufferp</em>&nbsp;</td><td>location where the array of 8-bit fields will be copied </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numfields</em>&nbsp;</td><td>number of 8-bit fields</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="a0fd0f7b32353b1f438d96676c0ed776e"></a><!-- doxytag: member="swigps_common.c::piput16" ref="a0fd0f7b32353b1f438d96676c0ed776e" args="(unsigned short field, unsigned char **packetpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void piput16 </td>
          <td>(</td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put a 16-bit value, in network byte order, into a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>16-bit field value to insert </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to the packet where the 16-bit field will be written </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="ad77c51c9cf8b9cc5889f89793dffcfa8"></a><!-- doxytag: member="swigps_common.c::piput32" ref="ad77c51c9cf8b9cc5889f89793dffcfa8" args="(unsigned int field, unsigned char **packetpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void piput32 </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put a 32-bit value, in network byte order, into a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>32-bit field value to insert </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to the packet where the 32-bit field will be written </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="a4bf652f4361c79c49229291ebf68c2a5"></a><!-- doxytag: member="swigps_common.c::piput64" ref="a4bf652f4361c79c49229291ebf68c2a5" args="(unsigned long long field, unsigned char **packetpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void piput64 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put a 64-bit value, in network byte order, into a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>64-bit field value to insert </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to the packet where the 64-bit field will be written </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="a7f54da5f078f8da5a74d9410f8dfdb54"></a><!-- doxytag: member="swigps_common.c::piputmulti" ref="a7f54da5f078f8da5a74d9410f8dfdb54" args="(unsigned char *fieldsp, unsigned char **packetpp, unsigned short numfields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void piputmulti </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>fieldsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&nbsp;</td>
          <td class="paramname"> <em>packetpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>numfields</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put an array of 8-bit fields into a packet and increment the packet pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fieldsp</em>&nbsp;</td><td>array of 8-bit fields </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>pointer to the packet where the array of 8-bit fields will be written </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>packetpp</em>&nbsp;</td><td>location where the packet pointer will be incremented</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function performs no pointer validation </dd></dl>

</div>
</div>
<a class="anchor" id="a2938cd0e67baf113c319857d472dd65c"></a><!-- doxytag: member="swigps_common.c::receivepacket" ref="a2938cd0e67baf113c319857d472dd65c" args="(int fd, unsigned char *datap, int *numbytes, char *errmsgbuf, int errmsgsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int receivepacket </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>datap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>numbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>errmsgbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>errmsgsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive a single packet on the socket using the packet's header information as a guide to knowing when a complete packet has been received. </p>
<p>The length of the received packet is returned in numbytes using similar return values as the standard recv() function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>the fd for the socket </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>datap</em>&nbsp;</td><td>buffer for the packet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n/out]</em>&nbsp;</td><td>numbytes</p>
<ul>
<li>on input, the amount of space available in datap's array</li>
<li>on output: if numbytes&gt;0 : number of bytes written to the buffer if numbytes==0 : socket was closed by other side if numbytes==(-1) : nothing to read on the socket; try again later </li>
</ul>
</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>errmsgbuf</em>&nbsp;</td><td>Pointer to storage to contain an error string if one is generated by this function. Caller must ensure the buffer is sufficient size for errors generated by this function </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>errmsgsize</em>&nbsp;</td><td>The number of bytes available in the error message buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0: If no errors were found. In this case, the values in numbytes and, if appropriate, the return buffer are valid. -1: If an error is found. None of the other return values are valid. This indicates that there is some error with the socket being read. It is up to the caller to decide what to do but further reads of the socket should not be attempted as they will probably return garbage.</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd><ul>
<li>there is no buffer overflow checking, since the buffer size is not currently passed into the function. The buffer size is assumed to be at least MAXDATASIZE. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a9b0d7e812d2298c41c8dd691603b47b2"></a><!-- doxytag: member="swigps_common.c::socksend" ref="a9b0d7e812d2298c41c8dd691603b47b2" args="(int fd, void *bufp, size_t length, char *errmsgbuf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int socksend </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>bufp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>errmsgbuf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a message to the specified socket. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fd</em>&nbsp;</td><td>File descriptor representing the socket to send to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bufp</em>&nbsp;</td><td>Pointer to the buffer containing the message to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[[in]</em>&nbsp;</td><td>length Length of the packet to be transmitted (bytes) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>errmsgbuf</em>&nbsp;</td><td>Pointer to storage to contain an error string if one is generated by this function. Caller must ensure the buffer is sufficient size for errors generated. On a normal return, code = 0, the error msg buffer contains a log message indicating how many bytes were sent</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0: If no errors were found. In this case, the values in numbytes and, if appropriate, the return buffer are valid. -1: If an error is found. None of the other return values are valid. This indicates that there is some error with the socket being read. It is up to the caller to decide what to do but further reads of the socket should not be attempted as they will probably return garbage.</dd></dl>
<dl class="user"><dt><b>abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="aba3a65051fc12dc8b4d61736435f01bf"></a><!-- doxytag: member="swigps_common.c::swigps_makhdr" ref="aba3a65051fc12dc8b4d61736435f01bf" args="(swigpsMsgType type, int length, unsigned short result, unsigned char *bufp, int buflength, int *writtenp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* swigps_makhdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swigps__common_8h.html#a057e84e87d42134d8756aa6987c97e66">swigpsMsgType</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>bufp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buflength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>writtenp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Build a message header. </p>
<p>The message header consists of 2-byte fields, the type, result and body length, respectively. This function builds a header into the storage area passed in by the caller.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>type,:</em>&nbsp;</td><td>The type to be assigned to the header </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>length</em>&nbsp;</td><td>The length to put into the length field of the header. Range-checked by this function as part of validation </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>result</em>&nbsp;</td><td>For Outbound requests this is zero. For inbound requests, contains the QMI API result code </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bufp</em>&nbsp;</td><td>Pointer to storage into which the header will be written, provided by the caller </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buflength</em>&nbsp;</td><td>The length available in bufp. Used for validation </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>writtenp</em>&nbsp;</td><td>Pointer to storage into which the number of bytes written into the buffer will be returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NULL - No errors<ul>
<li>Pointer to a string indicating the error that occurred otherwise</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a40e890e9370b8a0b5558d00686638382"></a><!-- doxytag: member="swigps_common.c::msgProperties" ref="a40e890e9370b8a0b5558d00686638382" args="[SWIGPS_MSGTYPE_MAXVAL]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgpsMsgProps.html">gpsMsgProps</a> <a class="el" href="swigps__common_8h.html#a69de385c35fd659faa942ee2d05a138f">msgProperties</a>[SWIGPS_MSGTYPE_MAXVAL]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 
{
    {<a class="code" href="swigps__common_8h.html#adbdbb300eb67404f42cd95adbfb43b52">SWIGPS_MSGSIZE_REQ_GETNMEAPORT</a>, <a class="code" href="swigps__common_8h.html#adbdbb300eb67404f42cd95adbfb43b52">SWIGPS_MSGSIZE_REQ_GETNMEAPORT</a>},
    {<a class="code" href="swigps__common_8h.html#a8a476c75eba8db1438b53346abae3e18">SWIGPS_MSGSIZE_RESP_MIN_GETNMEAPORT</a>, <a class="code" href="swigps__common_8h.html#ac2be6f47fd854cc89093a62ae9ed996a">SWIGPS_MSGSIZE_RESP_MAX_GETNMEAPORT</a>},

    {<a class="code" href="swigps__common_8h.html#a132aa1aa93b204ccdd954df08d5e44fa">SWIGPS_MSGSIZE_REQ_GETDEF</a>,  <a class="code" href="swigps__common_8h.html#a132aa1aa93b204ccdd954df08d5e44fa">SWIGPS_MSGSIZE_REQ_GETDEF</a>},
    {<a class="code" href="swigps__common_8h.html#a2b118c1c293d7689ec9a8fb9fa5fbb79">SWIGPS_MSGSIZE_RESP_GETDEF</a>, <a class="code" href="swigps__common_8h.html#a2b118c1c293d7689ec9a8fb9fa5fbb79">SWIGPS_MSGSIZE_RESP_GETDEF</a>},

    {<a class="code" href="swigps__common_8h.html#a963dff544540182e65ba5f8ea0f356fe">SWIGPS_MSGSIZE_REQ_SETDEF</a>,  <a class="code" href="swigps__common_8h.html#a963dff544540182e65ba5f8ea0f356fe">SWIGPS_MSGSIZE_REQ_SETDEF</a>},
    {<a class="code" href="swigps__common_8h.html#a92d2511b824f60ec507f9d654d977f14">SWIGPS_MSGSIZE_RESP_SETDEF</a>, <a class="code" href="swigps__common_8h.html#a92d2511b824f60ec507f9d654d977f14">SWIGPS_MSGSIZE_RESP_SETDEF</a>},

    {<a class="code" href="swigps__common_8h.html#a46c182a3c607d384778791e85a093de6">SWIGPS_MSGSIZE_REQ_GETAGPS</a>, <a class="code" href="swigps__common_8h.html#a46c182a3c607d384778791e85a093de6">SWIGPS_MSGSIZE_REQ_GETAGPS</a>},
    {<a class="code" href="swigps__common_8h.html#ababfcbb8ebd052177478adba4b2aa10c">SWIGPS_MSGSIZE_MIN_AGPS</a>,    <a class="code" href="swigps__common_8h.html#a6d7a3fa5a1bf2042c46b207c700fe222">SWIGPS_MSGSIZE_MAX_AGPS</a>},

    {<a class="code" href="swigps__common_8h.html#ababfcbb8ebd052177478adba4b2aa10c">SWIGPS_MSGSIZE_MIN_AGPS</a>,    <a class="code" href="swigps__common_8h.html#a6d7a3fa5a1bf2042c46b207c700fe222">SWIGPS_MSGSIZE_MAX_AGPS</a>},
    {<a class="code" href="swigps__common_8h.html#a4b2a7842207a17808d8a47a3741131d2">SWIGPS_MSGSIZE_RESP_SETAGPS</a>,<a class="code" href="swigps__common_8h.html#a4b2a7842207a17808d8a47a3741131d2">SWIGPS_MSGSIZE_RESP_SETAGPS</a>},

    {<a class="code" href="swigps__common_8h.html#a73379711f5c8bf0eb557775e73f6c3be">SWIGPS_MSGSIZE_REQ_INJTIME</a>, <a class="code" href="swigps__common_8h.html#a73379711f5c8bf0eb557775e73f6c3be">SWIGPS_MSGSIZE_REQ_INJTIME</a>},
    {<a class="code" href="swigps__common_8h.html#a1657b5f19c802e3cf8d7938ce25042cc">SWIGPS_MSGSIZE_RESP_INJTIME</a>,<a class="code" href="swigps__common_8h.html#a1657b5f19c802e3cf8d7938ce25042cc">SWIGPS_MSGSIZE_RESP_INJTIME</a>},

    {<a class="code" href="swigps__common_8h.html#a3ec9d8df809f0af2908463de6ebc9f63">SWIGPS_MSGSIZE_REQ_STOP</a>, <a class="code" href="swigps__common_8h.html#a3ec9d8df809f0af2908463de6ebc9f63">SWIGPS_MSGSIZE_REQ_STOP</a>},
    {<a class="code" href="swigps__common_8h.html#ab3a1be3cdbe9938ec9e02bd0b363acf3">SWIGPS_MSGSIZE_RESP_STOP</a>,<a class="code" href="swigps__common_8h.html#ab3a1be3cdbe9938ec9e02bd0b363acf3">SWIGPS_MSGSIZE_RESP_STOP</a>},

    {<a class="code" href="swigps__common_8h.html#a5d8368ffbc1f4676e747762ae82d8c82">SWIGPS_MSGSIZE_REQ_START</a>, <a class="code" href="swigps__common_8h.html#a5d8368ffbc1f4676e747762ae82d8c82">SWIGPS_MSGSIZE_REQ_START</a>},
    {<a class="code" href="swigps__common_8h.html#a4a3d9fe9b1991eb163006077ef05f96a">SWIGPS_MSGSIZE_RESP_START</a>,<a class="code" href="swigps__common_8h.html#a4a3d9fe9b1991eb163006077ef05f96a">SWIGPS_MSGSIZE_RESP_START</a>}
}
</pre></div>
<p>Message Type Definitions. </p>
<p>Indexed by swigpsMsgType enumeration and contains a range of allowable packet lengths for the variable- sized portion of an IPC message. The header size is fixed and not included in these values </p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Aug 9 18:19:55 2013 for Sierra RIL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
