<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sierra RIL: hardware/sierra/swicommon/swiril_sim.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>hardware/sierra/swicommon/swiril_sim.c File Reference</h1><code>#include &lt;telephony/ril.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;cutils/properties.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="at__channel_8h_source.html">at_channel.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="at__tok_8h_source.html">at_tok.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fcp__parser_8h_source.html">fcp_parser.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="at__misc_8h_source.html">at_misc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swiril__main_8h_source.html">swiril_main.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swiril__sim_8c.html">swiril_sim.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swiril__misc_8h_source.html">swiril_misc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swiril__log_8h_source.html">swiril_log.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPINRetryCount__s.html">PINRetryCount_s</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>&nbsp;&nbsp;&nbsp;&quot;RIL&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a08ee3298d19987a8281023f7d55a398f">SIM_POLL_RETRY</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29">SIM_Status</a> { <br/>
&nbsp;&nbsp;<a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29a30b3ff8a457482e19138734b5a4062c2">SIM_ABSENT</a> =  0, 
<a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29a3b38cb96a6f7373ecc2dcd62302d80b5">SIM_NOT_READY</a> =  1, 
<a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29a8b64cd3c4386b1b5fc58877dbfaa5d05">SIM_READY</a> =  2, 
<a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29a9e49f1597d3b964e38dbfad1345a2126">SIM_PIN</a> =  3, 
<br/>
&nbsp;&nbsp;<a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29ad67e6e258a45ac1195b6ce224ac33482">SIM_PUK</a> =  4, 
<a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29aba44ec28886702eae71887d564c45117">SIM_NETWORK_PERSONALIZATION</a> =  5, 
<a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29a30b4fef7826b28b9583325cd0218562e">SIM_FAILURE</a> =  6
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15b">SIM_PinPukType</a> { <a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15baf16caa68c676e4db03365f721da5e37e">SIM_PIN_TYPE</a>, 
<a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15ba3b6181b0549cb3fbf8a74ec3fd985e71">SIM_PUK_TYPE</a>, 
<a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15babdbee3dca7fed3093e4a3cca2fcebc32">SIM_PIN2_TYPE</a>, 
<a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15baffb396ab0f9d9336a4b6d4b466661cac">SIM_PUK2_TYPE</a>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a521a58bea240c084a7360a25147240a5">setPowerOff</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15b">SIM_PinPukType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#aa7d19244993058802b1efbf03d3cfd3a">getSIMPinPukType</a> (int request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#aa6edda11b3b8c2b133a4cb9688f9ac41">getPINRetryCount</a> (<a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15b">SIM_PinPukType</a> simPinPukType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29">SIM_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a575c93624b61e420caa21e17982a74e3">getSIMStatus</a> (RIL_PersoSubstate *substate)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a58de7d40c52f556cefface316cae6ed6">getCardStatus</a> (RIL_CardStatus **pp_card_status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a668e4de98c2d5d93c3c0ff7195bae685">freeCardStatus</a> (RIL_CardStatus *p_card_status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#aec9500d7608c4bda51fef9143b8d0a8c">resetpollSIMRetry</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a282d016cde0a6121d6d65ea949e25a5b">pollSIMState</a> (void *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a10a23d822078ed090d0c4b8c2181b920">requestGetSimStatus</a> (void *data, size_t datalen, RIL_Token t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#aa6fd2fbf0dde9946e79716a1b3ec1652">convertSimIoFcp</a> (RIL_SIM_IO_Response *sr, char **cvt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a7b51a75b79f8e648b651c15a06f1e958">requestSIM_IO</a> (void *data, size_t datalen, RIL_Token t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a3ee5eded61931c6327cfe3d6159d0091">requestEnterSimPin</a> (void *data, size_t datalen, RIL_Token t, int request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a6d1f240d96b284f9205f8547d7fb1523">requestChangePassword</a> (void *data, size_t datalen, RIL_Token t, char *facility)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#ac61386f84b85be512bcd0c034ae51851">requestSetFacilityLock</a> (void *data, size_t datalen, RIL_Token t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#adfb3e5d3ffcde1884128c44e43180773">requestQueryFacilityLock</a> (void *data, size_t datalen, RIL_Token t)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#ac8343a1eb81aa9e1d46a619785a1641c">TIMEVAL_SIMPOLL</a> = { 1, 0 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a3b74e620057255b825b44d09d71a6a3d">TIMEVAL_SIMRESET</a> = { 60, 0 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__sim_8c.html#a9da4d2bbd82ac2a1ae1cbec71f57451b">poll_retry_count</a> = SIM_POLL_RETRY</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a7ce0df38eb467e59f209470c8f5ac4e6"></a><!-- doxytag: member="swiril_sim.c::LOG_TAG" ref="a7ce0df38eb467e59f209470c8f5ac4e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG&nbsp;&nbsp;&nbsp;&quot;RIL&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a08ee3298d19987a8281023f7d55a398f"></a><!-- doxytag: member="swiril_sim.c::SIM_POLL_RETRY" ref="a08ee3298d19987a8281023f7d55a398f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIM_POLL_RETRY&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a37569b17aaf1f24da9231cc7689ac15b"></a><!-- doxytag: member="swiril_sim.c::SIM_PinPukType" ref="a37569b17aaf1f24da9231cc7689ac15b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15b">SIM_PinPukType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a37569b17aaf1f24da9231cc7689ac15baf16caa68c676e4db03365f721da5e37e"></a><!-- doxytag: member="SIM_PIN_TYPE" ref="a37569b17aaf1f24da9231cc7689ac15baf16caa68c676e4db03365f721da5e37e" args="" -->SIM_PIN_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a37569b17aaf1f24da9231cc7689ac15ba3b6181b0549cb3fbf8a74ec3fd985e71"></a><!-- doxytag: member="SIM_PUK_TYPE" ref="a37569b17aaf1f24da9231cc7689ac15ba3b6181b0549cb3fbf8a74ec3fd985e71" args="" -->SIM_PUK_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a37569b17aaf1f24da9231cc7689ac15babdbee3dca7fed3093e4a3cca2fcebc32"></a><!-- doxytag: member="SIM_PIN2_TYPE" ref="a37569b17aaf1f24da9231cc7689ac15babdbee3dca7fed3093e4a3cca2fcebc32" args="" -->SIM_PIN2_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a37569b17aaf1f24da9231cc7689ac15baffb396ab0f9d9336a4b6d4b466661cac"></a><!-- doxytag: member="SIM_PUK2_TYPE" ref="a37569b17aaf1f24da9231cc7689ac15baffb396ab0f9d9336a4b6d4b466661cac" args="" -->SIM_PUK2_TYPE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29"></a><!-- doxytag: member="swiril_sim.c::SIM_Status" ref="a1d11f8f91a73dc3e080a4d922a812c29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29">SIM_Status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29a30b3ff8a457482e19138734b5a4062c2"></a><!-- doxytag: member="SIM_ABSENT" ref="a1d11f8f91a73dc3e080a4d922a812c29a30b3ff8a457482e19138734b5a4062c2" args="" -->SIM_ABSENT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29a3b38cb96a6f7373ecc2dcd62302d80b5"></a><!-- doxytag: member="SIM_NOT_READY" ref="a1d11f8f91a73dc3e080a4d922a812c29a3b38cb96a6f7373ecc2dcd62302d80b5" args="" -->SIM_NOT_READY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29a8b64cd3c4386b1b5fc58877dbfaa5d05"></a><!-- doxytag: member="SIM_READY" ref="a1d11f8f91a73dc3e080a4d922a812c29a8b64cd3c4386b1b5fc58877dbfaa5d05" args="" -->SIM_READY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29a9e49f1597d3b964e38dbfad1345a2126"></a><!-- doxytag: member="SIM_PIN" ref="a1d11f8f91a73dc3e080a4d922a812c29a9e49f1597d3b964e38dbfad1345a2126" args="" -->SIM_PIN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29ad67e6e258a45ac1195b6ce224ac33482"></a><!-- doxytag: member="SIM_PUK" ref="a1d11f8f91a73dc3e080a4d922a812c29ad67e6e258a45ac1195b6ce224ac33482" args="" -->SIM_PUK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29aba44ec28886702eae71887d564c45117"></a><!-- doxytag: member="SIM_NETWORK_PERSONALIZATION" ref="a1d11f8f91a73dc3e080a4d922a812c29aba44ec28886702eae71887d564c45117" args="" -->SIM_NETWORK_PERSONALIZATION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d11f8f91a73dc3e080a4d922a812c29a30b4fef7826b28b9583325cd0218562e"></a><!-- doxytag: member="SIM_FAILURE" ref="a1d11f8f91a73dc3e080a4d922a812c29a30b4fef7826b28b9583325cd0218562e" args="" -->SIM_FAILURE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa6fd2fbf0dde9946e79716a1b3ec1652"></a><!-- doxytag: member="swiril_sim.c::convertSimIoFcp" ref="aa6fd2fbf0dde9946e79716a1b3ec1652" args="(RIL_SIM_IO_Response *sr, char **cvt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int convertSimIoFcp </td>
          <td>(</td>
          <td class="paramtype">RIL_SIM_IO_Response *&nbsp;</td>
          <td class="paramname"> <em>sr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>cvt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>convertSimIoFcp </p>
<p>Convert the incoming SIM response to the "GET RESPONSE" command into a 2G FCP image, if applicable. The upper layers of the Android stack, notably in a file called IccFileHandler.java, expect the SIM File Header info to be packed by a 2G SIM. If the incoming data appears to be from a 3G SIM, this function converts it to 2G format before proceeding. </p>

</div>
</div>
<a class="anchor" id="a668e4de98c2d5d93c3c0ff7195bae685"></a><!-- doxytag: member="swiril_sim.c::freeCardStatus" ref="a668e4de98c2d5d93c3c0ff7195bae685" args="(RIL_CardStatus *p_card_status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void freeCardStatus </td>
          <td>(</td>
          <td class="paramtype">RIL_CardStatus *&nbsp;</td>
          <td class="paramname"> <em>p_card_status</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free the card status returned by getCardStatus. </p>

</div>
</div>
<a class="anchor" id="a58de7d40c52f556cefface316cae6ed6"></a><!-- doxytag: member="swiril_sim.c::getCardStatus" ref="a58de7d40c52f556cefface316cae6ed6" args="(RIL_CardStatus **pp_card_status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int getCardStatus </td>
          <td>(</td>
          <td class="paramtype">RIL_CardStatus **&nbsp;</td>
          <td class="paramname"> <em>pp_card_status</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current card status. </p>
<p>This must be freed using freeCardStatus. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>: On success returns RIL_E_SUCCESS. </dd></dl>

</div>
</div>
<a class="anchor" id="aa6edda11b3b8c2b133a4cb9688f9ac41"></a><!-- doxytag: member="swiril_sim.c::getPINRetryCount" ref="aa6edda11b3b8c2b133a4cb9688f9ac41" args="(SIM_PinPukType simPinPukType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int getPINRetryCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15b">SIM_PinPukType</a>&nbsp;</td>
          <td class="paramname"> <em>simPinPukType</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the PIN retry count for the associated PIN PUK type requested. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>simPinPukType</em>&nbsp;</td><td>the associated PIN retry count</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>no of retries left for the PIN or PUK type requested, -1 for unknown</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="aa7d19244993058802b1efbf03d3cfd3a"></a><!-- doxytag: member="swiril_sim.c::getSIMPinPukType" ref="aa7d19244993058802b1efbf03d3cfd3a" args="(int request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="swiril__sim_8c.html#a37569b17aaf1f24da9231cc7689ac15b">SIM_PinPukType</a> getSIMPinPukType </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the corresponsing PIN or PUK type from the incoming request. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>request</em>&nbsp;</td><td>the following are the requests which are supported RIL_REQUEST_ENTER_SIM_PIN RIL_REQUEST_ENTER_SIM_PUK RIL_REQUEST_ENTER_SIM_PIN2 RIL_REQUEST_ENTER_SIM_PUK2</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>enumeration SIM_PinPukType is returned</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a575c93624b61e420caa21e17982a74e3"></a><!-- doxytag: member="swiril_sim.c::getSIMStatus" ref="a575c93624b61e420caa21e17982a74e3" args="(RIL_PersoSubstate *substate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="swiril__sim_8c.html#a1d11f8f91a73dc3e080a4d922a812c29">SIM_Status</a> getSIMStatus </td>
          <td>(</td>
          <td class="paramtype">RIL_PersoSubstate *&nbsp;</td>
          <td class="paramname"> <em>substate</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query the SIM status. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>substate</em>&nbsp;</td><td>personalization substat</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>One of enum SIM_Status</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Returns one of SIM_*. Returns SIM_NOT_READY on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a282d016cde0a6121d6d65ea949e25a5b"></a><!-- doxytag: member="swiril_sim.c::pollSIMState" ref="a282d016cde0a6121d6d65ea949e25a5b" args="(void *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pollSIMState </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>param</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SIM ready means any commands that access the SIM will work, including: AT+CPIN, AT+CSMS, AT+CNMI, AT+CRSM (all SMS-related commands). </p>

</div>
</div>
<a class="anchor" id="a6d1f240d96b284f9205f8547d7fb1523"></a><!-- doxytag: member="swiril_sim.c::requestChangePassword" ref="a6d1f240d96b284f9205f8547d7fb1523" args="(void *data, size_t datalen, RIL_Token t, char *facility)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void requestChangePassword </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RIL_Token&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>facility</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3ee5eded61931c6327cfe3d6159d0091"></a><!-- doxytag: member="swiril_sim.c::requestEnterSimPin" ref="a3ee5eded61931c6327cfe3d6159d0091" args="(void *data, size_t datalen, RIL_Token t, int request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void requestEnterSimPin </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RIL_Token&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>request</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enter SIM PIN, might be PIN, PIN2, PUK, PUK2, etc. </p>
<p>Data can hold pointers to one or two strings, depending on what we want to enter. (PUK requires new PIN, etc.). </p>

</div>
</div>
<a class="anchor" id="a10a23d822078ed090d0c4b8c2181b920"></a><!-- doxytag: member="swiril_sim.c::requestGetSimStatus" ref="a10a23d822078ed090d0c4b8c2181b920" args="(void *data, size_t datalen, RIL_Token t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void requestGetSimStatus </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RIL_Token&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RIL_REQUEST_GET_SIM_STATUS. </p>
<p>Requests status of the SIM interface and the SIM card.</p>
<p>Valid errors: Must never fail. </p>

</div>
</div>
<a class="anchor" id="adfb3e5d3ffcde1884128c44e43180773"></a><!-- doxytag: member="swiril_sim.c::requestQueryFacilityLock" ref="adfb3e5d3ffcde1884128c44e43180773" args="(void *data, size_t datalen, RIL_Token t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void requestQueryFacilityLock </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RIL_Token&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RIL_REQUEST_QUERY_FACILITY_LOCK. </p>
<p>Query the status of a facility lock state. </p>

</div>
</div>
<a class="anchor" id="ac61386f84b85be512bcd0c034ae51851"></a><!-- doxytag: member="swiril_sim.c::requestSetFacilityLock" ref="ac61386f84b85be512bcd0c034ae51851" args="(void *data, size_t datalen, RIL_Token t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void requestSetFacilityLock </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RIL_Token&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RIL_REQUEST_SET_FACILITY_LOCK. </p>
<p>Enable/disable one facility lock. </p>

</div>
</div>
<a class="anchor" id="a7b51a75b79f8e648b651c15a06f1e958"></a><!-- doxytag: member="swiril_sim.c::requestSIM_IO" ref="a7b51a75b79f8e648b651c15a06f1e958" args="(void *data, size_t datalen, RIL_Token t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void requestSIM_IO </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RIL_Token&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RIL_REQUEST_SIM_IO. </p>
<p>Request SIM I/O operation. This is similar to the TS 27.007 "restricted SIM" operation where it assumes all of the EF selection will be done by the callee. </p>

</div>
</div>
<a class="anchor" id="aec9500d7608c4bda51fef9143b8d0a8c"></a><!-- doxytag: member="swiril_sim.c::resetpollSIMRetry" ref="aec9500d7608c4bda51fef9143b8d0a8c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetpollSIMRetry </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a521a58bea240c084a7360a25147240a5"></a><!-- doxytag: member="swiril_sim.c::setPowerOff" ref="a521a58bea240c084a7360a25147240a5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setPowerOff </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set power off. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a9da4d2bbd82ac2a1ae1cbec71f57451b"></a><!-- doxytag: member="swiril_sim.c::poll_retry_count" ref="a9da4d2bbd82ac2a1ae1cbec71f57451b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="swiril__sim_8c.html#a9da4d2bbd82ac2a1ae1cbec71f57451b">poll_retry_count</a> = SIM_POLL_RETRY<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac8343a1eb81aa9e1d46a619785a1641c"></a><!-- doxytag: member="swiril_sim.c::TIMEVAL_SIMPOLL" ref="ac8343a1eb81aa9e1d46a619785a1641c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval <a class="el" href="swiril__sim__qmi_8c.html#ac8343a1eb81aa9e1d46a619785a1641c">TIMEVAL_SIMPOLL</a> = { 1, 0 }<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b74e620057255b825b44d09d71a6a3d"></a><!-- doxytag: member="swiril_sim.c::TIMEVAL_SIMRESET" ref="a3b74e620057255b825b44d09d71a6a3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval <a class="el" href="swiril__sim_8c.html#a3b74e620057255b825b44d09d71a6a3d">TIMEVAL_SIMRESET</a> = { 60, 0 }<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Aug 9 18:19:55 2013 for Sierra RIL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
