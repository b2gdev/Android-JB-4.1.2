<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Sierra RIL: hardware/sierra/swicommon/swiril_misc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>hardware/sierra/swicommon/swiril_misc.c File Reference</h1>
<p>Provides miscellaneous Sierra specific functions.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="swiril__log_8h_source.html">swiril_log.h</a>&quot;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;cutils/properties.h&gt;</code><br/>
<code>#include &lt;telephony/ril.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="swiril__misc_8h_source.html">swiril_misc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swiril__main_8h_source.html">swiril_main.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>&nbsp;&nbsp;&nbsp;&quot;RIL&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#aadbbc7b02d94a4c18646813ac8d7dec1">EOS</a>&nbsp;&nbsp;&nbsp;'\0'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#aac608b30938b4c1e0c63a29a7e837b4d">PROPERTY_SIERRA_VOICE</a>&nbsp;&nbsp;&nbsp;&quot;ro.sierra.voice&quot;</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#abb98cba252234df145bbdeba9e0b7a64">isVoiceEnabled</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#a45661aa7a15e3ecd66c02d8260d30016">swicheckp</a> (void *datap, char *errString)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#a924fe26b61df36ec395d1e0eef1cac37">swimalloc</a> (int size, char *errString)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#a4e4c3157ae0085d4e6e990c0cc3ff987">checkDHCPnStopService</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#afa9faab1455e2bc86958f5a25ea1ea43">waitDHCPnsetDNS</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#a59c9f4da3282f4e2621f9f45b0e4c98e">slstrncpy</a> (char *destp, const char *srcp, unsigned long length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#a72555c1081a44c0399ab25b233f52fa9">sltoupper</a> (char c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swiril__misc_8c.html#ad8694fe54f84bba69c48d7c059e70e84">sltoupperstrn</a> (char *destp, const char *srcp, unsigned long length)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="author"><dt><b>Author:</b></dt><dd>Copyright: © 2011 Sierra Wireless, Inc. All rights reserved </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aadbbc7b02d94a4c18646813ac8d7dec1"></a><!-- doxytag: member="swiril_misc.c::EOS" ref="aadbbc7b02d94a4c18646813ac8d7dec1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EOS&nbsp;&nbsp;&nbsp;'\0'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ce0df38eb467e59f209470c8f5ac4e6"></a><!-- doxytag: member="swiril_misc.c::LOG_TAG" ref="a7ce0df38eb467e59f209470c8f5ac4e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG&nbsp;&nbsp;&nbsp;&quot;RIL&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aac608b30938b4c1e0c63a29a7e837b4d"></a><!-- doxytag: member="swiril_misc.c::PROPERTY_SIERRA_VOICE" ref="aac608b30938b4c1e0c63a29a7e837b4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROPERTY_SIERRA_VOICE&nbsp;&nbsp;&nbsp;&quot;ro.sierra.voice&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4e4c3157ae0085d4e6e990c0cc3ff987"></a><!-- doxytag: member="swiril_misc.c::checkDHCPnStopService" ref="a4e4c3157ae0085d4e6e990c0cc3ff987" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void checkDHCPnStopService </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop the dhcpcd service if already running. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="abb98cba252234df145bbdeba9e0b7a64"></a><!-- doxytag: member="swiril_misc.c::isVoiceEnabled" ref="abb98cba252234df145bbdeba9e0b7a64" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isVoiceEnabled </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine whether the RIL should be voice enabled. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true: RIL should be voice enabled false: RIL should not be voice enabled</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a59c9f4da3282f4e2621f9f45b0e4c98e"></a><!-- doxytag: member="swiril_misc.c::slstrncpy" ref="a59c9f4da3282f4e2621f9f45b0e4c98e" args="(char *destp, const char *srcp, unsigned long length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* slstrncpy </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>destp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>srcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>String Copy (with max. </p>
<p>) Copies not more than "length" characters (characters that follow a null character are not copied) from the array pointed to by srcp into the array pointed to by destp. If copying takes place between objects that overlap, the behaviour is undefined.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>*destp</em>&nbsp;</td><td>pointer to location of memory to where string will be copied </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>*srcp</em>&nbsp;</td><td>pointer to location of memory from where string will be copied </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>maximum characters to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value of destp</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>No pointer verification If the string pointed to by srcp is longer than length characters, the resultant array pointed to by destp will not be null terminated. If the string pointed to by srcp is shorter than length characters, null characters are continually copied to the string pointed by destp until "length" characters have been copied. </dd></dl>

</div>
</div>
<a class="anchor" id="a72555c1081a44c0399ab25b233f52fa9"></a><!-- doxytag: member="swiril_misc.c::sltoupper" ref="a72555c1081a44c0399ab25b233f52fa9" args="(char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char sltoupper </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert to Upper Case If the passed-in character is a lower- case character then return the corresponding upper-case letter. </p>
<p>Otherwise, return the passed-in character unchanged.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>lower-case character to convert to upper-case </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Upper-case converted character</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="ad8694fe54f84bba69c48d7c059e70e84"></a><!-- doxytag: member="swiril_misc.c::sltoupperstrn" ref="ad8694fe54f84bba69c48d7c059e70e84" args="(char *destp, const char *srcp, unsigned long length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* sltoupperstrn </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>destp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>srcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>converts string to upper-case. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>*destp</em>&nbsp;</td><td>pointer to location of memory to where string will be copied </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>*srcp</em>&nbsp;</td><td>pointer to location of memory from where string will be copied </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>maximum characters to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value of destp</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If the string pointed to by srcp is longer than length characters, the resultant array pointed to by destp will not be null terminated. If the string pointed to by srcp is shorter than length characters, null characters are continually copied to the string pointed by destp until "length" characters have been copied. </dd></dl>

</div>
</div>
<a class="anchor" id="a45661aa7a15e3ecd66c02d8260d30016"></a><!-- doxytag: member="swiril_misc.c::swicheckp" ref="a45661aa7a15e3ecd66c02d8260d30016" args="(void *datap, char *errString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swicheckp </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>datap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>errString</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>check the pointer and print out error message in case of NULL pointer </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>datap</em>&nbsp;</td><td>pointer to be checked </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>errString</em>&nbsp;</td><td>error string to be printed out in case of NULL pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a924fe26b61df36ec395d1e0eef1cac37"></a><!-- doxytag: member="swiril_misc.c::swimalloc" ref="a924fe26b61df36ec395d1e0eef1cac37" args="(int size, char *errString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* swimalloc </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>errString</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate memory and check the return pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>number bytes of memory to be allocated </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>errString</em>&nbsp;</td><td>error string to be printed out in case of allocation failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to the allocated memory</dd></dl>
<dl class="user"><dt><b>Abort:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="afa9faab1455e2bc86958f5a25ea1ea43"></a><!-- doxytag: member="swiril_misc.c::waitDHCPnsetDNS" ref="afa9faab1455e2bc86958f5a25ea1ea43" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int waitDHCPnsetDNS </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait until dhcpcd finish and set DNS to system property by using DNS field of DHCP response. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 - successfully wait dhcpcd and set DNS -1 - otherwise</dd></dl>
<dl class="user"><dt><b>Abort: </b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Aug 9 18:19:55 2013 for Sierra RIL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
